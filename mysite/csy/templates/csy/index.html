{% extends 'base.html' %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="{% static 'css/csy.css' %}">
<style type="text/css">
 
</style>
{% if user.is_authenticated %} 
    <h3 class="menuTitle">Yearly by Month</h3>
    <form method="GET">
        <div class="searchForm">
            <input type="number" id="yearSearch" name="input-year" min="2000" max="2099" step="1" class="select"/>
            <select name="input-prd" id="selectSearch" class="select" onChange="selectedPrd()">
                <option value="" selected>æ‰€æœ‰ç”¢å“</option>
                <option value="11530035">æ´»è”˜28D</option>
                <option value="11060162">è”˜ç²¾ETç§˜</option>
                <option value="17010087">æ´»è”˜28D/è”˜æ´»åŠ›é£²ç¦®ç›’</option>
                <option value="17010088">è”˜çŸ³æ¦´é£²</option>
                <option value="17010004">è”˜é‡æ«»è“é£²</option>
                <option value="17010002">è”˜ç²¾ETç¦®ç›’</option>
            </select>
            <input type="submit" id="btnSearch" value="ğŸ”ï¸">
            <input type="button" class="btnExcel" value="ğŸ“¥Excel">
        </div>
        <div class="dataGrid">
            <table class="tableGrid" id="myTable">
                <thead class="sticky-element">
                    <tr>
                        <th rowspan="2"><B>é–€å¸‚ä»£è™Ÿ</B></th>
                        <th rowspan="2"><B>ç¸£å¸‚</B></th>
                        <th rowspan="2"><B>é–€å¸‚åç¨±</B></th>
                        <th rowspan="2"><B>ä¸Šå­˜é‡</B></th>
                        <th rowspan="2"><B>é€²è²¨é‡</B></th>
                        <th rowspan="2"><B>é€€è²¨é‡</B></th>
                        <th colspan="12"><B>éŠ·è²¨é‡</B></th>
                        <th rowspan="2"><B>éŠ·å”®åŠ ç¸½</B></th>
                        <th rowspan="2"><B>åº«å­˜é‡</B></th>
                        <th rowspan="2"><B>æœˆå¹³å‡</B></th>
                        <th rowspan="2"><B>åº«å­˜æœˆä»½</B></th>
                    </tr>
                    <tr>
                        <th><B>1æœˆ</B></th>
                        <th><B>2æœˆ</B></th>
                        <th><B>3æœˆ</B></th>
                        <th><B>4æœˆ</B></th>
                        <th><B>5æœˆ</B></th>
                        <th><B>6æœˆ</B></th>
                        <th><B>7æœˆ</B></th>
                        <th><B>8æœˆ</B></th>
                        <th><B>9æœˆ</B></th>
                        <th><B>10æœˆ</B></th>
                        <th><B>11æœˆ</B></th>
                        <th><B>12æœˆ</B></th>
                    </tr>
                </thead>
                <tbody>
                    {% for data in data %}
                    <tr>
                        <td>{{data.str_code.str_code}}</td>
                        <td>{{data.str_code.str_city}}</td>
                        <td>{{data.str_code.str_name}}</td>
                        <td>{{data.sum_m_save}}</td>
                        <td>{{data.sum_m_buy}}</td>
                        <td>{{data.sum_m_return}}</td>
                        <td>1</td>
                        <td>2</td>
                        <td>3</td>
                        <td>4</td>
                        <td>5</td>
                        <td>6</td>
                        <td>7</td>
                        <td>8</td>
                        <td>9</td>
                        <td>0</td>
                        <td>1</td>
                        <td>2</td>
                        <td>SUM</td>
                        <td>{{data.sum_m_stock}}</td>
                        <td>SUM/12</td>
                        <td>sum_m_stock/(SUM/12)</td>
                    </tr>
                    {% endfor %}
                    <tr>
                        <td colspan="3"><B>Total</B></td>
                        <td>1</td>
                        <td>2</td>
                        <td>3</td>
                        <td>4</td>
                        <td>5</td>
                        <td>6</td>
                        <td>7</td>
                        <td>8</td>
                        <td>9</td>
                        <td>0</td>
                        <td>1</td>
                        <td>2</td>
                        <td>3</td>
                        <td>4</td>
                        <td>5</td>
                        <td>6</td>
                        <td>7</td>
                        <td>8</td>
                        <td>9</td>
                    </tr>
                <tbody>
            </table>
        </div>
    </form>
{% else %}
    <meta http-equiv="refresh" content="0; url='/users/login'" />
{% endif %}
<script type="text/javascript">
    const yearDate = "{{yearDate}}";

</script>
<script src="{% static 'script/csy.js' %}"></script>
{% endblock %}